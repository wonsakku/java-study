# 3장.어서션_도입    

<br><br>

## 3.1 리팩토링  

___

<br>


### 3.1.1 어서션 도입    

<br>

주석으로 어떠한 조건이 참이 된다라고 적어도 그 조건이 실행 시 만족되는걸 보장하지 않는다.  
어서션은 실행 시 조건이 반드시 성립함을 보장.    

'value값이 참이어야 한다'라는 건 다음과 같이 작성.  
```assert value > 0;```  
어서션을 실행할 때 value > 0 이라면 아무 일도 일어나지 않음.  
하지만 value > 0 이 아니라면 ```java.lang.AssertionError``` 예외(표명한 조건식이 성립하지 않음)를 던진다.   


<br>

> 리팩토링 카탈로그(어서션 도입)    
* 이름  
    * 어서션 도입
* 상황  
    * 코드 속에 성립해야 할 조건이 있음  
* 문제  
    * 주석으로 '이런 조건이 성립한다'라고 적어도 프로그램 실행 시 확인되지 않음  
* 해법  
    * 어서션 넣기      
* 결과  
    * ○ 해당 부분에서 성립해야 할 조건이 명확해지고 소스 코드가 읽기 좋아짐    
    * ○ 버그를 빨리 발견 가능함    
    * ○ 어서션을 활성화하면 어서션이 성립하는지 자동으로 확인 가능함    
    * ○ 어서션을 비활성화하면 어서션이 무시되어 성능이 개선됨    
    * X 어서션을 지나치게 쓰면 오히려 읽기 어려워짐  
* 방법  
    1. **어서션 도입**
        1. 소스 코드에서 '성립해야 할 조건' 찾기  
        2. 조건을 포함한 어서션 작성  
            * 어서션 내부에 부수 효과가 있는 코드를 작성하면 안 됨    
        3. 적혀 있던 주석은 무의미하므로 주석 삭제
        4. 컴파일해서 테스트      
* 주의  
    * 자바 컴파일러는 어서션을 무효화해도 어서션 부분 코드를 삭제하지 않음  
    * 어서션 안에 부수 효과가 있는 코드를 작성하면 안 됨  
    * 어서션을 입란 에러 처리 대신에 사용하면 안 됨
* 관련항목  
    * 메서드 추출(5장)  
        * 어서션에 적힌 조건은 독립된 메서도르 추출할 가치가 있는 경우가 많음 


<br>  


  


