# 5장. 메서드 추출  

<br><br>

## 5.1 리팩토링  

___

<br>


### 5.1.1 메서드 추출  

<br>

한 메서드 안에 이런저런 세세한 처리가 많다면 그런 처리를 묶어서 나누고 독립된 메서드로 추출한다.  
추출한 메서드에는 적절한 이름을 붙인다.   


<br>

> 리팩토링 카탈로그(매직 넘버를 기호 상수로 치환)      
* 이름
    * 메서드 추출  
* 상황  
    * 메서드를 작성함
* 문제  
    * 메서드 하나가 너무 긺
* 해법  
    * 기존 메서드에서 묶을 수 있는 코드를 추출해 새로운 메서드를 작성함
* 결과  
    * ○ 각 메서드가 짧아짐  
    * X 메서드 개수가 늘어남
* 방법  
    1. 새로운 메서드 작성  
        1. 새로운 메서드에 적절한 이름 붙이기  
            * 메서드가 무엇을 하는지 잘 알 수 있는 이름을 붙임  
            * 메서드에서 실제로 어떻게 처리하는지 뜻하는 이름은 붙이지 않음  
            * 적당한 이름을 붙일 수 없다면 적절한 메서드가 아님  
        2. 기존 메서드에서 새로운 메서드로 코드 복사    
        3. 메서드 내부의 지역 변수 검토  
            * 복사한 코드 안에서만 사용하는 변수라면 메서드의 지역 변수로 만듦    
        4. 메서드 매개변수 검토  
            * 복사한 코드에서 입력값으로 사용하는 변수가 있다면 메서드 매개변수로 만듦 
        5. 메서드 반환값 검토         
            * 복사한 코드에서 변경되는 변수가 있는지 조사  
            * 변경된 변수가 여러 개 있다면 리팩토링을 계속하기 어려움('관련 항목' 참조)
            * 변경된 변수가 하나뿐이라면 '메서드 반환값'으로 쓰기에 적당한지 검토  
                * 적당하다면 메서드 반환값으로 사용
                * 적당하지 않다면 리팩토링을 계속하기 어려움('관련 항목' 참조)  
        6. 컴파일.         
    2. 새로운 메서드 호출
        1. 기존 메서드에서 앞서 코드를 복사한 부분을 새로운 메서드 호출로 치환  
        2. 기존 메서드에서 더는 사용하지 않는 지역 변수가 있으면 삭제
        3. 컴파일해서 테스트  
* 관련항목  
    * 임시 변수 분리  
      메서드 추출 전에 임시 변수 분리부터 하는 게 좋을 때가 있음 
    * 질의로 임시 변수 치환  
      메서드 추출 전에 질의로 임시 변수 치환부터 하는 게 좋을 때가 있음    
    * 메서드 인라인화  
      역 리팩토링  


